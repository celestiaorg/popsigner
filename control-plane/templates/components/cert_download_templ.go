// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package components

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"encoding/base64"

	"github.com/Bidon15/popsigner/control-plane/internal/models"
)

// CertDownloadModal renders the certificate download modal after successful generation.
func CertDownloadModal(bundle *models.CertificateBundle) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"max-w-2xl w-full bg-black border border-[#333300]\"><!-- Header --><div class=\"flex items-center justify-between p-5 border-b border-[#333300]\"><h3 class=\"text-lg font-bold text-[#33FF00] uppercase flex items-center gap-2\"><span class=\"drop-shadow-[0_0_10px_#33FF00]\">‚úì</span> CERTIFICATE_GENERATED</h3><button @click=\"$dispatch('modal-close'); htmx.trigger('#main-content', 'refresh')\" class=\"p-1.5 text-[#666600] hover:text-[#FFB000] hover:bg-[#FFB000]/10 transition-colors\"><svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button></div><!-- Body --><div class=\"p-5 space-y-6\"><!-- Warning Banner --><div class=\"p-4 bg-[#FFB000]/10 border border-[#FFB000] relative\"><div class=\"absolute inset-0 pointer-events-none opacity-10\n\t\t\t\t            bg-[repeating-linear-gradient(0deg,transparent,transparent_1px,rgba(0,0,0,0.3)_1px,rgba(0,0,0,0.3)_2px)]\"></div><div class=\"relative flex items-start gap-3\"><span class=\"text-[#FFB000] text-xl drop-shadow-[0_0_5px_#FFB000]\">‚ö†</span><div><p class=\"font-bold text-[#FFB000] uppercase text-sm\">DOWNLOAD NOW - ONE TIME ACCESS</p><p class=\"text-sm text-[#CC8800] mt-1\">The private key will not be shown again. Make sure to download and securely store these files.</p></div></div></div><!-- Download Buttons --><div class=\"grid grid-cols-3 gap-4\"><a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 templ.SafeURL
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("data:application/x-pem-file;base64," + certBase64Encode(bundle.ClientCert)))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 45, Col: 104}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" download=\"client.crt\" class=\"flex flex-col items-center p-4 bg-[#0A0A0A] border border-[#333300] \n\t\t\t\t          hover:border-[#33FF00] hover:shadow-[0_0_10px_rgba(51,255,0,0.3)] transition-all group\"><span class=\"text-3xl mb-2 group-hover:drop-shadow-[0_0_8px_#33FF00] transition-all\">üìú</span> <span class=\"text-sm font-bold text-[#33FF00] uppercase\">client.crt</span> <span class=\"text-xs text-[#666600]\">Certificate</span></a> <a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 templ.SafeURL
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("data:application/x-pem-file;base64," + certBase64Encode(bundle.ClientKey)))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 54, Col: 103}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\" download=\"client.key\" class=\"flex flex-col items-center p-4 bg-[#0A0A0A] border border-[#333300] \n\t\t\t\t          hover:border-[#FFB000] hover:shadow-[0_0_10px_rgba(255,176,0,0.3)] transition-all group\"><span class=\"text-3xl mb-2 group-hover:drop-shadow-[0_0_8px_#FFB000] transition-all\">üîë</span> <span class=\"text-sm font-bold text-[#FFB000] uppercase\">client.key</span> <span class=\"text-xs text-[#666600]\">Private Key</span></a> <a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 templ.SafeURL
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("data:application/x-pem-file;base64," + certBase64Encode(bundle.CACert)))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 63, Col: 100}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" download=\"popsigner-ca.crt\" class=\"flex flex-col items-center p-4 bg-[#0A0A0A] border border-[#333300] \n\t\t\t\t          hover:border-[#33FF00] hover:shadow-[0_0_10px_rgba(51,255,0,0.3)] transition-all group\"><span class=\"text-3xl mb-2 group-hover:drop-shadow-[0_0_8px_#33FF00] transition-all\">üèõÔ∏è</span> <span class=\"text-sm font-bold text-[#33FF00] uppercase\">popsigner-ca.crt</span> <span class=\"text-xs text-[#666600]\">CA Certificate</span></a></div><!-- Nitro Configuration --><div><div class=\"flex items-center justify-between mb-2\"><h4 class=\"text-sm font-bold text-[#FFB000] uppercase tracking-wide\">ARBITRUM NITRO CONFIGURATION</h4><a href=\"https://docs.popsigner.com/integrations/arbitrum-nitro\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-xs text-[#666600] hover:text-[#33FF00] transition-colors flex items-center gap-1\">View docs <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"></path></svg></a></div><div class=\"relative bg-[#0A0A0A] border border-[#333300] p-4 overflow-x-auto max-h-32\"><pre class=\"text-xs text-[#33FF00] font-mono whitespace-pre-wrap break-all\"><code>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var5 string
		templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(bundle.NitroConfigTip)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 91, Col: 110}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</code></pre></div></div><!-- Certificate Details --><div class=\"p-4 bg-[#0A0A0A] border border-[#333300]\"><h4 class=\"text-sm font-bold text-[#FFB000] uppercase tracking-wide mb-3\">CERTIFICATE_DETAILS</h4><div class=\"space-y-2 text-sm\"><div class=\"flex flex-col sm:flex-row sm:items-start gap-1\"><span class=\"text-[#666600] shrink-0 sm:w-24\">Fingerprint:</span> <span class=\"font-mono text-[#33FF00] text-xs break-all\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var6 string
		templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(bundle.Fingerprint)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 103, Col: 83}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</span></div><div class=\"flex flex-col sm:flex-row sm:items-center gap-1\"><span class=\"text-[#666600] shrink-0 sm:w-24\">Expires:</span> <span class=\"text-[#33FF00]\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var7 string
		templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(bundle.ExpiresAt)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 107, Col: 53}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "</span></div></div></div></div><!-- Footer --><div class=\"flex items-center justify-end gap-3 p-5 border-t border-[#333300]\"><button type=\"button\" @click=\"$dispatch('modal-close'); location.reload()\" class=\"px-6 py-2 bg-[#33FF00] text-black font-bold uppercase\n\t\t\t\t\t       hover:shadow-[0_0_15px_#33FF00] transition-all\">[ DONE ]</button></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// CertDownloadBundleOnly renders just the download links (for inline use).
func CertDownloadBundleOnly(bundle *models.CertificateBundle) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var8 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var8 == nil {
			templ_7745c5c3_Var8 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<div class=\"space-y-4\"><div class=\"grid grid-cols-3 gap-3\"><a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var9 templ.SafeURL
		templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("data:application/x-pem-file;base64," + certBase64Encode(bundle.ClientCert)))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 129, Col: 103}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "\" download=\"client.crt\" class=\"flex items-center gap-2 px-3 py-2 bg-black border border-[#333300] \n\t\t\t          hover:border-[#33FF00] transition-colors text-sm\"><span>üìú</span> <span class=\"text-[#33FF00]\">client.crt</span></a> <a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var10 templ.SafeURL
		templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("data:application/x-pem-file;base64," + certBase64Encode(bundle.ClientKey)))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 136, Col: 102}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\" download=\"client.key\" class=\"flex items-center gap-2 px-3 py-2 bg-black border border-[#333300] \n\t\t\t          hover:border-[#FFB000] transition-colors text-sm\"><span>üîë</span> <span class=\"text-[#FFB000]\">client.key</span></a> <a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var11 templ.SafeURL
		templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("data:application/x-pem-file;base64," + certBase64Encode(bundle.CACert)))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/components/cert_download.templ`, Line: 143, Col: 99}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "\" download=\"popsigner-ca.crt\" class=\"flex items-center gap-2 px-3 py-2 bg-black border border-[#333300] \n\t\t\t          hover:border-[#33FF00] transition-colors text-sm\"><span>üèõÔ∏è</span> <span class=\"text-[#33FF00]\">ca.crt</span></a></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// Helper function to base64 encode certificate data
func certBase64Encode(data []byte) string {
	return base64.StdEncoding.EncodeToString(data)
}

func truncateCertFingerprint(fp string) string {
	if len(fp) > 32 {
		return fp[:32] + "..."
	}
	return fp
}

var _ = templruntime.GeneratedTemplate
